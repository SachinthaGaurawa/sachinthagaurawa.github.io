:root{
  --bg:#ffffff;
  --ink:#0e0f11;
  --muted:#6e7481;
  --ring:rgba(4,112,255,.25);
}

/* ───────── Base ───────── */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
}
body.noscroll{overflow:hidden}

/* ───────── Top bar ───────── */
.topbar{
  position:sticky; top:0; z-index:40;
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:12px;
  padding:14px clamp(16px,3vw,28px);
  background:rgba(255,255,255,.86);
  backdrop-filter:blur(10px);
  border-bottom:1px solid #eaeef5;
}
.brand{
  font-family:'Orbitron',monospace; font-weight:700;
  color:var(--ink); text-decoration:none;
}
.brand:hover{text-decoration:underline}
.center-title{
  font-family:'Orbitron',monospace;
  font-size:clamp(20px,2.4vw,30px);
  margin:0; justify-self:center;
}
.spacer{height:1px}

/* ───────── Outside hero ───────── */
.hero{padding:10px 0 0}
.hero-media{
  position:relative; overflow:hidden; border-radius:18px;
  margin:0 auto; width:min(1200px,95vw); aspect-ratio:16/6;
  border:1px solid #eef1f7; box-shadow:0 10px 40px rgba(0,0,0,.08);
}
.hero-media img{width:100%;height:100%;object-fit:cover;display:block}
.hero-overlay{position:absolute; inset:0; background:linear-gradient(180deg,transparent 40%,rgba(255,255,255,.92))}
.hero-text{position:absolute; left:5%; right:5%; bottom:6%; text-align:center}
.hero-text h2{
  margin:0 0 8px; font-family:'Orbitron',monospace;
  font-size:clamp(28px,3.2vw,44px)
}
.hero-text p{margin:0; color:var(--muted); font-weight:500}

/* ───────── Containers / search ───────── */
.container{width:min(1200px,95vw); margin:24px auto}
.controls .search{
  display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:14px;
  border:1px solid #e9eef5; background:#fff;
  box-shadow:0 6px 20px rgba(20,40,60,.05);
}
.controls .search input{
  width:100%; border:0; outline:0; font-size:16px; background:transparent
}
.controls .search i{color:#9aa3b2}

/* ───────── Album grid (outside) ───────── */
#albumGrid{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px;
}
.card{
  position:relative; overflow:hidden; border-radius:18px; cursor:pointer;
  background:#fff; border:1px solid #ecf1f7;
  box-shadow:0 10px 30px rgba(30,40,60,.08);
  transition:transform .25s ease, box-shadow .25s ease;
}
.card:hover{transform:translateY(-6px); box-shadow:0 16px 50px rgba(20,50,90,.12)}
.card img{width:100%; height:200px; object-fit:cover; display:block}
.card .label{padding:12px 14px}
.card .title{font-weight:700}
.badge-video{
  position:absolute; top:10px; right:10px;
  width:34px; height:34px; border-radius:50%;
  display:grid; place-items:center; color:#fff;
  background:rgba(8,10,16,.66); border:1px solid var(--ring);
  box-shadow:0 6px 16px rgba(4,112,255,.25);
}

/* ───────── Inside album overlay ───────── */
#albumView{
  position:fixed; inset:0; z-index:80;
  display:none; overflow:auto; background:#000;
}
#albumView.active{display:block}
.close-btn{
  position:sticky; top:12px; float:right; margin:12px; z-index:10;
  border:0; background:#101317; color:#fff;
  padding:10px 12px; border-radius:12px; cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}

/* Banner */
.album-hero.slim{
  position:relative; display:block;
  width:min(1400px,96vw); margin:6px auto 0;
  border-radius:18px; overflow:hidden; border:1px solid #171717;
  aspect-ratio:21/7; /* short landscape */
}
.album-hero img{width:100%;height:100%;object-fit:cover;display:block}
.album-hero-overlay{position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,0) 60%,rgba(0,0,0,.55))}
.album-hero h2{
  position:absolute; left:4vw; bottom:1.4vw; margin:0;
  font-family:'Orbitron',monospace; font-weight:700;
  font-size:clamp(28px,8vw,120px); color:#fff; line-height:.9; letter-spacing:1px;
}

/* Description */
.album-desc-block{padding:40px 0 26px; background:#000; color:#fff}
.album-desc-inner{
  width:min(1100px,88vw); margin:0 auto;
  font-weight:300; font-size:clamp(16px,2.1vw,28px); line-height:1.45;
  text-align:center; color:#e9e9e9;
}

/* Masonry (column layout) */
.album-media{padding:4px 0 30px}
.masonry{column-count:3; column-gap:16px}
@media (max-width:1100px){.masonry{column-count:2}}
@media (max-width:640px){.masonry{column-count:1}}
.m-item{
  break-inside:avoid; -webkit-column-break-inside:avoid; -moz-column-break-inside:avoid;
  margin-bottom:16px; position:relative; cursor:pointer;
  border-radius:14px; overflow:hidden; border:1px solid #151515;
  box-shadow:0 8px 24px rgba(0,0,0,.35); display:block; min-height:10px;
}
.m-item img{width:100%; height:auto; display:block}
.m-item .play{
  position:absolute; right:10px; bottom:10px;
  width:38px; height:38px; display:grid; place-items:center;
  color:#fff; background:rgba(0,0,0,.6);
  border:1px solid rgba(255,255,255,.12); border-radius:50%;
}

/* ───────── Viewer (lightbox) ───────── */
#viewerOverlay{
  position:fixed; inset:0; z-index:120;
  display:none; place-items:center;
  background:rgba(0,0,0,.75); backdrop-filter:blur(6px);
}
#viewerOverlay.active{display:grid}

.viewer-shell{position:relative; width:min(1200px,95vw)}
.stage{
  margin:0; position:relative; overflow:hidden; width:100%;
  min-height:60vh; max-height:84vh;
  border-radius:18px; border:1px solid #0f0f10;
  box-shadow:0 30px 120px rgba(0,0,0,.55),
             0 0 0 6px rgba(56,231,171,.25),
             0 0 0 12px rgba(4,112,255,.20);
  background:#000; display:grid; place-items:center;
}
.stage img,.stage video,.stage iframe{
  width:100% !important; height:100% !important;
  object-fit:contain; background:#000; display:block; border:0;
}
.viewer-close{
  position:absolute; top:10px; right:10px; z-index:2;
  border:0; background:#111827; color:#fff;
  padding:8px 10px; border-radius:10px; cursor:pointer;
}
.nav{
  position:absolute; top:50%; transform:translateY(-50%);
  border:0; background:rgba(10,12,16,.75); color:#fff;
  width:46px; height:46px; border-radius:50%; cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.35);
}
.nav.prev{left:10px} .nav.next{right:10px}
.peek{
  position:absolute; bottom:-70px; width:110px; height:70px;
  border:2px solid rgba(4,112,255,.35); border-radius:10px;
  object-fit:cover; opacity:.9; filter:grayscale(.1) saturate(1.1);
}
.peek-left{left:10px} .peek-right{right:10px}
.hint{color:#9ca3af; font-size:12px; margin:10px auto 0; text-align:center}

/* ───────── Responsive tweaks ───────── */
@media (max-width:720px){
  .album-hero.slim{aspect-ratio:21/10}
  .peek{display:none}
  .viewer-shell{width:min(1000px,96vw)}
  .stage{max-height:78vh}
}

/* ───────── Canonical Footer (main + inside albums) ───────── */
.site-footer{
  --accent:#f1b32a;
  background:linear-gradient(180deg,#0d0e10 0%, #0f1012 100%);
  color:#e9eef5;
  border-top:1px solid rgba(255,255,255,.06);
  padding:18px clamp(18px,4vw,28px);

  display:flex;
  align-items:center;                 /* vertical centering */
  justify-content:space-between;      /* left & right ends */
  gap:16px;

  line-height:1.4;
  font-weight:500;
  box-shadow:0 -1px 0 rgba(0,0,0,.35) inset;
  border-bottom-left-radius:10px;
  border-bottom-right-radius:10px;
}

/* keep both sides on the same baseline */
.site-footer .footer-left,
.site-footer .footer-right{
  display:inline-flex;
  align-items:center;
}

.site-footer .footer-left{white-space:nowrap}

.site-footer .footer-name,
.site-footer a{
  color:var(--accent);
  text-decoration:underline;
  text-underline-offset:3px;
  font-weight:600;
}

.site-footer .footer-right{
  margin-left:auto;                 /* push to far right on desktop */
  text-align:right;
  color:var(--accent);
  font-weight:600;
  letter-spacing:.2px;
}

/* When the same footer is cloned into the album overlay */
#albumView .site-footer{
  width:min(1200px,95vw);
  margin:28px auto 44px;
  position:relative;
  zIndex:1;
  border-radius:10px;
}

/* Mobile stacking for the footer */
@media (max-width:600px){
  .site-footer{
    flex-direction:column;
    text-align:center;
    gap:6px;
  }
  .site-footer .footer-right{
    margin-left:0;
    text-align:center;  /* ✅ center when stacked */
  }
}

/* ===== FINAL footer override (forces right item to the edge) ===== */
.site-footer{
  width:100% !important;
  display:flex !important;
  align-items:center !important;      /* vertical centering */
  justify-content:space-between !important;
  padding:18px clamp(18px,4vw,28px);  /* keep your spacing */
}

.site-footer .footer-left{
  flex:1 1 auto;                      /* take the left side */
  white-space:nowrap;
  display:inline-flex;
  align-items:center;
}

.site-footer .footer-right{
  margin-left:auto;                   /* push to far right */
  text-align:right;
  display:inline-flex;
  align-items:center;                 /* baseline alignment with left */
}

/* In the album overlay, keep it full-width bar if you prefer */
#albumView .site-footer{
  width:100% !important;              /* full bleed inside overlay */
  margin:28px 0 44px !important;
  border-radius:0 !important;
}

.hero .word{ display:inline-block; will-change:transform }

.lazy-cover{ filter:blur(14px); transform:scale(1.02); transition:filter .35s, transform .35s }
.lazy-cover.is-loaded{ filter:blur(0); transform:scale(1) }

.tag-chips{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 0 }
.chip{ border:1px solid #e9eef5; background:#fff; border-radius:999px; padding:6px 10px; cursor:pointer }
.chip:hover{ background:#f5f7fb }

@media (prefers-reduced-motion: reduce){
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition: none !important; }
}

.album-ask { margin-top: 8px; }
.album-ask .ask-row{
  display:flex; gap:10px; align-items:center;
  padding:10px; border:1px solid #1b1b1b; border-radius:12px;
  background:#0b0b0b; box-shadow:0 6px 20px rgba(0,0,0,.25);
}
.album-ask input{
  flex:1; border:0; outline:0; background:transparent; color:#e9eef5;
  font-size:16px; padding:10px 8px;
}
.album-ask .ask-btn{
  border:0; border-radius:10px; padding:10px 14px; cursor:pointer;
  background:#1f2937; color:#fff; font-weight:600;
}
.album-ask .ask-btn:disabled{ opacity:.6; cursor:not-allowed }
.album-ask .ask-result{
  margin-top:10px; color:#d6d6d6; line-height:1.5; white-space:pre-wrap;
}

button:focus-visible { outline: 2px solid #f1b32a; outline-offset: 2px; }

.mini-tags{
  position:absolute; left:8px; bottom:8px;
  display:flex; gap:6px; flex-wrap:wrap;
}
.mini-chip{
  padding:4px 8px; font-size:12px;
  background:rgba(0,0,0,.55); color:#fff;
  border:1px solid rgba(255,255,255,.15);
  border-radius:999px;
  backdrop-filter: blur(2px);
}

/* Mobile search bar fix (kept; harmless if container unused) */
@media (max-width: 768px) {
  .search-bar-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 10px;
  }
  .search-bar-container input[type="text"],
  .search-slot input#searchInput{           /* ✅ ensure actual search input also benefits */
    width: 90% !important;
    max-width: 350px;
    font-size: 14px;
    border-radius: 8px;
    padding: 8px 12px;
    box-sizing: border-box;
  }
  .search-bar-container button {
    margin-top: 8px;
    width: auto;
    max-width: 120px;
  }
}

/* ─────────── Mobile/Tablet toolbar layout (chips left, search right) ─────────── */
@media (max-width: 1024px){
  .album-toolbar{
    display:flex;
    align-items:center;
    gap:10px;
    width:100%;
    min-height:44px; /* keeps row stable */
  }

  /* one-line, swipeable chip row with soft edge fade */
  .chips-scroll{
    display:flex;
    gap:8px;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:none;
    padding-bottom:4px;
    flex:1 1 50%;
    mask-image: linear-gradient(to right, transparent, #000 12px, #000 calc(100% - 12px), transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, #000 12px, #000 calc(100% - 12px), transparent); /* ✅ iOS */
    scroll-snap-type:x proximity;
  }
  .chips-scroll > *{ scroll-snap-align:center; }
  .chips-scroll::-webkit-scrollbar{ display:none; }

  /* search on the right with sensible min width */
  .search-slot{
    flex:0 1 50%;
    min-width: 180px;
    display:flex;
  }
  .search-slot input{
    width:100%;
    box-sizing:border-box;
    font-size:14px;
    padding:9px 12px;
    border-radius:10px;
  }

  /* compact pill-style tip moved below the toolbar */
  #ask-hint-row.ask-hint-compact{
    display:flex;
    justify-content:center;
    margin:8px auto 2px;
    max-width: min(840px, 96%);
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px dashed rgba(158,193,255,.55);
    border-radius:999px;
    padding:8px 12px;
    font-size:13px;
    color:rgba(230,240,255,.92);
    backdrop-filter: blur(4px);
  }
  #ask-hint-row.ask-hint-compact em{
    font-style: italic;
    opacity:.95;
    white-space: nowrap;
  }
}

/* tighter phones: give search a bit more room */
@media (max-width: 600px){
  .chips-scroll{ flex-basis: 46%; }
  .search-slot{ flex-basis: 54%; min-width: 160px; }
  .search-slot input{ font-size:13.5px; padding:8px 11px; }
}
@media (max-width: 420px){
  .chips-scroll{ flex-basis: 42%; }
  .search-slot{ flex-basis: 58%; min-width: 150px; }
  .search-slot input{ font-size:13px; padding:7.5px 10px; }
  #ask-hint-row.ask-hint-compact{ font-size:12.5px; padding:7px 10px; }
}



/* Hide the generic search tip on tablets & phones */
@media (max-width: 1024px){
  #ask-hint-row{ display:none !important; }
}



/* Hide the generic search tip on tablets & phones */
@media (max-width: 1024px){
  #ask-hint-row{ display:none !important; }
}






/* --- FIX: phone landscape clipping of right column in album --- */

/* 1) keep the overlay from creating horizontal scroll that can hide the 2nd column */
#albumView{
  overflow-x: hidden;            /* vertical scroll still allowed */
}

/* 2) constrain & center the media block so columns never render off-canvas */
.album-media{
  width: min(1100px, 96vw);
  margin: 0 auto;                /* center inside overlay */
}

/* 3) make column layout more robust on WebKit */
.masonry{
  -webkit-column-gap: 16px;
  column-gap: 16px;
  -webkit-column-fill: balance;
  column-fill: balance;
}

/* Phones in landscape (short height): force a reliable 2-column layout */
@media (max-height: 500px) and (max-width: 900px) and (orientation: landscape){
  .album-media{ width: min(1000px, 94vw); }
  .masonry{ column-count: 2; }   /* ensure the second column renders */
}

/* Very short landscape (e.g., iPhone mini / split UI): fall back to one column
   instead of letting WebKit clip the right column */
@media (max-height: 420px) and (orientation: landscape){
  .masonry{ column-count: 1; }
}





/* ===== Fix: Center footer on phones & tablets (portrait only) ===== */
/* Works even if a later rule forces justify-content:space-between */
@media (max-width: 1024px) and (orientation: portrait) {

  /* Main footer */
  body .site-footer.site-footer.site-footer,
  body footer.site-footer.site-footer,
  body footer.page-footer.page-footer,
  body footer.app-footer.app-footer,
  body footer.main-footer.main-footer {
    display: flex !important;
    flex-direction: column !important;     /* stack the two lines */
    align-items: center !important;        /* center horizontally */
    justify-content: center !important;    /* center within the bar */
    text-align: center !important;
    gap: 10px !important;
  }

  /* Left/right groups inside footer */
  body .site-footer.site-footer.site-footer .footer-left,
  body .site-footer.site-footer.site-footer .footer-right,
  body footer .footer-left,
  body footer .footer-right {
    width: 100% !important;
    margin: 0 !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
  }

  /* Album overlay footer clone */
  body #albumView .site-footer.site-footer.site-footer {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    gap: 10px !important;
  }
  body #albumView .site-footer.site-footer.site-footer .footer-left,
  body #albumView .site-footer.site-footer.site-footer .footer-right {
    width: 100% !important;
    margin: 0 !important;
    justify-content: center !important;
    text-align: center !important;
  }

  /* Neutralize any “push right” left from desktop */
  body .site-footer .footer-right { margin-left: 0 !important; }
}















/* ---------- Small bug fix (typo) ---------- */
#albumView .site-footer{
  z-index: 1; /* was zIndex */
}

/* ==========================================================
   THEME TOKENS (non-breaking)
   - Default variables already exist in your CSS.
   - We scope new palettes to body.home.is-dark / .is-light (Home only)
   ========================================================== */

/* LIGHT (Home) — applied when <body class="home is-light"> */
body.home.is-light{
  --bg: #f7f9fc;
  --ink: #0e0f11;
  --muted: #6e7481;
  --ring: rgba(4,112,255,.22);
  --card: #ffffff;
  --card-2: #f3f6fb;
  --hair: #e7ecf4;
}

/* DARK (Home) — applied when <body class="home is-dark"> */
body.home.is-dark{
  --bg: #0b0d12;
  --ink: #eaf0ff;
  --muted: #a9b4c7;
  --ring: rgba(120,170,255,.35);
  --card: #0f141c;
  --card-2: #0c1118;
  --hair: rgba(255,255,255,.08);
  color-scheme: dark;
}

/* Base apply for Home (both themes) */
body.home.is-dark, body.home.is-light{
  background: var(--bg);
  color: var(--ink);
}

/* ==========================================================
   TOPBAR (Home)
   ========================================================== */
body.home.is-dark .topbar{
  background: rgba(10,12,18,.72);
  border-bottom: 1px solid var(--hair);
  backdrop-filter: blur(10px);
}
body.home.is-light .topbar{
  background: rgba(255,255,255,.85);
  border-bottom: 1px solid var(--hair);
  backdrop-filter: blur(10px);
}

/* Theme toggle button (created by HTML/JS below) */
.theme-toggle{
  appearance: none;
  border: 1px solid var(--hair);
  background: linear-gradient(180deg, var(--card), var(--card-2));
  color: var(--ink);
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 700;
  font-family: 'Orbitron', system-ui, sans-serif;
  letter-spacing: .2px;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.theme-toggle:hover{ transform: translateY(-1px); box-shadow:0 12px 30px rgba(0,0,0,.12); }
.theme-toggle:active{ transform: translateY(0); }
.theme-toggle i{ margin-right: 6px; }

/* ==========================================================
   HERO (Home) – image fade & legibility
   ========================================================== */
body.home.is-dark .hero,
body.home.is-light .hero{
  background: transparent;
}
body.home.is-dark .hero-media,
body.home.is-light .hero-media{
  border: 1px solid var(--hair);
  box-shadow: 0 14px 44px rgba(0,0,0,.25);
  overflow: hidden;
  position: relative;
}
body.home.is-dark .hero-media::after,
body.home.is-light .hero-media::after{
  content: "";
  position: absolute; inset: 0;
  pointer-events: none;
}
/* Subtle vignette tuned per theme */
body.home.is-dark .hero-media::after{
  background:
    radial-gradient(1200px 60% at 50% 100%, rgba(0,0,0,.55), transparent 70%),
    linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,.55));
}
body.home.is-light .hero-media::after{
  background:
    radial-gradient(1200px 60% at 50% 100%, rgba(255,255,255,.6), transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,0) 55%, rgba(255,255,255,.85));
}

body.home.is-dark .hero-text h2,
body.home.is-dark .hero-name{ color:#f7faff; }
body.home.is-light .hero-text h2,
body.home.is-light .hero-name{ color:#101319; }

body.home.is-dark .hero-text p{ color:var(--muted); }
body.home.is-light .hero-text p{ color:#58606d; }

/* ==========================================================
   SEARCH (Home & Album) – glass + contrast
   ========================================================== */
.controls .search{
  background: var(--card);
  border: 1px solid var(--hair);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
}
.controls .search input{
  color: var(--ink);
}
.controls .search i{
  color: #9aa3b2;
}
.controls .search:focus-within{
  border-color:#78aaff;
  box-shadow: 0 0 0 4px rgba(120,170,255,.18), 0 12px 40px rgba(0,0,0,.14);
}

/* Mobile search sizing (already present, keep enhanced specificity) */
@media (max-width: 768px){
  .search-bar-container input[type="text"],
  .search-slot input#searchInput{
    width: 90% !important; max-width: 360px;
    font-size: 14px; border-radius: 10px; padding: 10px 12px;
    background: var(--card); color: var(--ink); border: 1px solid var(--hair);
  }
}

/* Chips/pills – theme aware */
.chip{
  background: var(--card);
  border: 1px solid var(--hair);
  color: var(--ink);
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
}
.chip:hover{
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  background: var(--card-2);
}

/* ==========================================================
   CARD SURFACES (Home sections)
   ========================================================== */
body.home.is-dark .tool-card,
body.home.is-dark .spec-card,
body.home.is-dark .stats-container,
body.home.is-dark .experience-card,
body.home.is-dark .project-card,
body.home.is-dark .research-card,
body.home.is-dark .membership-card,
body.home.is-dark .contact-info,
body.home.is-dark .contact-form-container{
  background: var(--card);
  border: 1px solid var(--hair);
  box-shadow: 0 18px 50px rgba(0,0,0,.28);
  color: var(--ink);
}

body.home.is-light .tool-card,
body.home.is-light .spec-card,
body.home.is-light .stats-container,
body.home.is-light .experience-card,
body.home.is-light .project-card,
body.home.is-light .research-card,
body.home.is-light .membership-card,
body.home.is-light .contact-info,
body.home.is-light .contact-form-container{
  background: #fff;
  border: 1px solid var(--hair);
  box-shadow: 0 18px 50px rgba(36,48,76,.08);
  color: var(--ink);
}

/* Project overlays stay poppy */
body.home.is-dark .project-overlay{ background: rgba(44,113,255,.9); }
body.home.is-light .project-overlay{ background: rgba(13,110,253,.9); }

/* Diplomas / badges */
body.home.is-dark .diploma-badge{
  background: rgba(255,255,255,.06);
  color:#cfe0ff; border:1px solid rgba(128,168,255,.35);
}
body.home.is-light .diploma-badge{
  background: #f3f7ff; color:#1f3f8f; border:1px solid #b9cdf9;
}

/* Forms */
body.home.is-dark .form-floating > .form-control{
  background:#0c1118; color:var(--ink); border:2px solid var(--hair);
}
body.home.is-dark .form-floating > .form-control:focus{
  border-color:#6aa2ff; box-shadow:0 0 0 4px rgba(120,170,255,.18);
}
body.home.is-light .form-floating > .form-control{
  background:#fff; color:var(--ink); border:2px solid #e7ecf4;
}
body.home.is-light .form-floating > .form-control:focus{
  border-color:#6aa2ff; box-shadow:0 0 0 4px rgba(120,170,255,.14);
}

/* Contact icon block */
body.home.is-dark .contact-icon{
  background: linear-gradient(135deg,#1a60ff 0%, #6a3bff 100%);
}
body.home.is-light .contact-icon{
  background: linear-gradient(135deg,#5a9bff 0%, #7ca6ff 100%);
}

/* Nav pills */
body.home.is-dark .nav-pills .nav-link{
  background:#0f141d; color:#cfe0ff; border:1px solid var(--hair);
}
body.home.is-dark .nav-pills .nav-link.active{
  background:#2c71ff !important; color:#fff !important; border-color:transparent !important;
}
body.home.is-light .nav-pills .nav-link{
  background:#f6f8fc; color:#2a3140; border:1px solid var(--hair);
}
body.home.is-light .nav-pills .nav-link.active{
  background:#0d6efd !important; color:#fff !important; border-color:transparent !important;
}

/* Back-to-top visibility on both */
body.home.is-dark .back-to-top{ background:#2c71ff; color:#fff; }
body.home.is-light .back-to-top{ background:#0d6efd; color:#fff; }

/* ==========================================================
   FOOTER – award-grade, centered on mobile portrait (keep behavior)
   ========================================================== */
body.home.is-dark .site-footer{
  background: linear-gradient(180deg,#090b0f 0%, #0b0d10 100%);
  border-top:1px solid var(--hair);
  color:#eaf0ff;
}
body.home.is-light .site-footer{
  background: linear-gradient(180deg,#ffffff 0%, #f7f9fc 100%);
  border-top:1px solid var(--hair);
  color:#20242c;
}
body.home.is-dark .site-footer .footer-name,
body.home.is-dark .site-footer a{ color:#f4c34f; }
body.home.is-light .site-footer .footer-name,
body.home.is-light .site-footer a{ color:#d0981a; }

@media (max-width: 1024px) and (orientation: portrait) {
  body .site-footer.site-footer.site-footer,
  body footer.site-footer.site-footer{
    display:flex !important; flex-direction:column !important;
    align-items:center !important; justify-content:center !important;
    text-align:center !important; gap:10px !important;
  }
  body .site-footer .footer-left,
  body .site-footer .footer-right{
    width:100% !important; margin:0 !important;
    display:inline-flex !important; align-items:center !important; justify-content:center !important;
    text-align:center !important;
  }
  body .site-footer .footer-right{ margin-left:0 !important; }
}

/* ==========================================================
   ALBUM: right-column visibility on phone landscape (KEEP)
   ========================================================== */
#albumView{ overflow-x: hidden; } /* vertical scroll ok */
.album-media{ width: min(1100px, 96vw); margin: 0 auto; }
.masonry{ -webkit-column-gap:16px; column-gap:16px; -webkit-column-fill:balance; column-fill:balance; }
@media (max-height:500px) and (max-width:900px) and (orientation: landscape){
  .album-media{ width: min(1000px, 94vw); }
  .masonry{ column-count:2; }
}
@media (max-height:420px) and (orientation: landscape){
  .masonry{ column-count:1; }
}

/* ==========================================================
   ASK TIP: hide on tablets/phones (KEEP)
   ========================================================== */
@media (max-width: 1024px){
  #ask-hint-row{ display:none !important; }
}

/* ==========================================================
   BONUS: tasteful depth micro-interactions (safe)
   ========================================================== */
.card, .tool-card, .spec-card, .project-card, .research-card, .membership-card{
  transition: transform .18s ease, box-shadow .22s ease, border-color .2s ease;
}
.card:hover, .tool-card:hover, .spec-card:hover, .project-card:hover, .research-card:hover, .membership-card:hover{
  transform: translateY(-6px);
  box-shadow: 0 24px 60px rgba(0,0,0,.18);
  border-color: rgba(120,170,255,.35);
}

/* Button ripple (CSS-only, non-invasive) */
.btn, .theme-toggle{
  position: relative; overflow: hidden;
}
.btn::after, .theme-toggle::after{
  content:""; position:absolute; inset:auto; left:50%; top:50%;
  width:0; height:0; border-radius:999px; background: rgba(255,255,255,.25);
  transform: translate(-50%,-50%); pointer-events:none; transition: width .35s ease, height .35s ease, opacity .4s ease;
  opacity:0;
}
.btn:active::after, .theme-toggle:active::after{
  width:180%; height:180%; opacity:.0;
}

