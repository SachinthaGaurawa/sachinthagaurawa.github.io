/* ==========================================================
   BASE TOKENS (safe defaults before theme loads)
   ========================================================== */
:root{
  --bg:#ffffff;
  --ink:#0e0f11;
  --muted:#6e7481;
  --ring:rgba(4,112,255,.25);

  /* surfaces used across site */
  --card:#ffffff;
  --card-2:#f3f6fb;
  --hair:#e7ecf4;

  /* album-specific (will be overridden by theme) */
  --album-bg:#0a0c10;
  --album-ink:#e9f1ff;
  --album-subtle:#a7b4c7;
  --album-panel:#0f141c;
  --album-panel-2:#0c1118;
  --album-hair:rgba(255,255,255,.08);
  --album-glow:0 30px 120px rgba(0,0,0,.55);
}

/* ==========================================================
   UNIFIED THEME TOKENS (works with ANY of these selectors)
   - html[data-theme="light"/"dark"]
   - body.is-light / body.is-dark
   - body.home.is-light / body.home.is-dark
   ========================================================== */

/* LIGHT */
:root[data-theme="light"],
body.is-light,
body.home.is-light{
  --bg:#f7f9fc;
  --ink:#0e0f11;
  --muted:#6e7481;
  --ring:rgba(4,112,255,.22);
  --card:#ffffff;
  --card-2:#f3f6fb;
  --hair:#e7ecf4;

  /* album */
  --album-bg:#f7f9fc;
  --album-ink:#0f1217;
  --album-subtle:#5e6673;
  --album-panel:#ffffff;
  --album-panel-2:#f3f6fb;
  --album-hair:#e3e9f2;
  --album-glow:0 30px 120px rgba(36,48,76,.12);

  color-scheme:light;
}

/* DARK */
:root[data-theme="dark"],
body.is-dark,
body.home.is-dark{
  --bg:#0b0d12;
  --ink:#eaf0ff;
  --muted:#a9b4c7;
  --ring:rgba(120,170,255,.35);
  --card:#0f141c;
  --card-2:#0c1118;
  --hair:rgba(255,255,255,.08);

  /* album */
  --album-bg:#0a0c10;
  --album-ink:#e9f1ff;
  --album-subtle:#a7b4c7;
  --album-panel:#0f141c;
  --album-panel-2:#0c1118;
  --album-hair:rgba(255,255,255,.08);
  --album-glow:0 30px 120px rgba(0,0,0,.55);

  color-scheme:dark;
}

/* ==========================================================
   BASE
   ========================================================== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
}
body.noscroll{overflow:hidden}

/* ==========================================================
   TOP BAR
   ========================================================== */
.topbar{
  position:sticky; top:0; z-index:40;
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:12px;
  padding:14px clamp(16px,3vw,28px);
  background:rgba(255,255,255,.86);
  backdrop-filter:blur(10px);
  border-bottom:1px solid #eaeef5;
}
.brand{
  font-family:'Orbitron',monospace; font-weight:700;
  color:var(--ink); text-decoration:none;
}
.brand:hover{text-decoration:underline}
.center-title{
  font-family:'Orbitron',monospace;
  font-size:clamp(20px,2.4vw,30px);
  margin:0; justify-self:center;
}
.spacer{height:1px}

/* Themed topbar */
:root[data-theme="dark"] .topbar,
body.is-dark .topbar,
body.home.is-dark .topbar{
  background:rgba(10,12,18,.72);
  border-bottom:1px solid var(--hair);
  backdrop-filter:blur(10px);
}
:root[data-theme="light"] .topbar,
body.is-light .topbar,
body.home.is-light .topbar{
  background:rgba(255,255,255,.85);
  border-bottom:1px solid var(--hair);
  backdrop-filter:blur(10px);
}

/* ==========================================================
   HERO (outside)
   ========================================================== */
.hero{padding:10px 0 0}
.hero-media{
  position:relative; overflow:hidden; border-radius:18px;
  margin:0 auto; width:min(1200px,95vw); aspect-ratio:16/6;
  border:1px solid var(--hair); box-shadow:0 10px 40px rgba(0,0,0,.08);
}
.hero-media img{width:100%;height:100%;object-fit:cover;display:block}

/* place overlays behind the text for crisp titles */
.hero-media::after,
.hero-overlay{ position:absolute; inset:0; z-index:0 !important; }
.hero-text{ position:absolute; left:5%; right:5%; bottom:6%; text-align:center; z-index:1 !important; }

.hero-text h2{
  margin:0 0 8px; font-family:'Orbitron',monospace;
  font-size:clamp(28px,3.2vw,44px)
}
.hero-text p{margin:0; color:var(--muted); font-weight:500}

/* Dark/light overlay tint on hero */
:root[data-theme="dark"] .hero-media::after,
body.is-dark .hero-media::after{ 
  content:""; background:
  radial-gradient(1200px 60% at 50% 100%, rgba(0,0,0,.55), transparent 70%),
  linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,.55));
}
:root[data-theme="light"] .hero-media::after,
body.is-light .hero-media::after{
  content:""; background:
  radial-gradient(1200px 60% at 50% 100%, rgba(255,255,255,.6), transparent 70%),
  linear-gradient(180deg, rgba(255,255,255,0) 55%, rgba(255,255,255,.85));
}

/* desktop title color polish */
@media (min-width:1025px){
  :root[data-theme="light"] .hero-text h2, body.is-light .hero-text h2{ color:#0a0a0a !important; }
  :root[data-theme="dark"]  .hero-text h2, body.is-dark  .hero-text h2{ color:#ffffff !important; }
}

/* ==========================================================
   CONTAINERS / SEARCH
   ========================================================== */
.container{width:min(1200px,95vw); margin:24px auto}
.controls .search{
  display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:14px;
  border:1px solid var(--hair); background:var(--card);
  box-shadow:0 6px 20px rgba(20,40,60,.05);
}
.controls .search input{
  width:100%; border:0; outline:0; font-size:16px; background:transparent; color:var(--ink);
}
.controls .search i{color:#9aa3b2}
.controls .search:focus-within{
  border-color:#78aaff;
  box-shadow:0 0 0 4px rgba(120,170,255,.18), 0 12px 40px rgba(0,0,0,.14);
}

@media (max-width: 768px) {
  .search-bar-container { display:flex; flex-direction:column; align-items:center; padding:0 10px; }
  .search-bar-container input[type="text"],
  .search-slot input#searchInput{
    width:90% !important; max-width:350px;
    font-size:14px; border-radius:8px; padding:8px 12px; box-sizing:border-box;
    background:var(--card); color:var(--ink); border:1px solid var(--hair);
  }
  .search-bar-container button{ margin-top:8px; width:auto; max-width:120px; }
}

/* ==========================================================
   ALBUM GRID (outside)
   ========================================================== */
#albumGrid{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px;
}
.card{
  position:relative; overflow:hidden; border-radius:18px; cursor:pointer;
  background:var(--card); border:1px solid var(--hair);
  box-shadow:0 10px 30px rgba(30,40,60,.08);
  transition:transform .25s ease, box-shadow .25s ease;
}
.card:hover{transform:translateY(-6px); box-shadow:0 16px 50px rgba(20,50,90,.12)}
.card img{width:100%; height:200px; object-fit:cover; display:block}
.card .label{padding:12px 14px}
.card .title{font-weight:700}
.badge-video{
  position:absolute; top:10px; right:10px;
  width:34px; height:34px; border-radius:50%;
  display:grid; place-items:center; color:#fff;
  background:rgba(8,10,16,.66); border:1px solid var(--ring);
  box-shadow:0 6px 16px rgba(4,112,255,.25);
}

/* dark polish for cards/chips */
:root[data-theme="dark"] .card, body.is-dark .card{
  background:var(--card) !important;
  border-color:var(--hair) !important;
  box-shadow:0 12px 32px rgba(0,0,0,.45) !important;
}
:root[data-theme="dark"] .card .label, body.is-dark .card .label{
  background:transparent !important; border-top:1px solid var(--hair);
}
:root[data-theme="dark"] .card .title, body.is-dark .card .title{ color:#e9f2f9 !important; }
:root[data-theme="dark"] .badge-video, body.is-dark .badge-video{
  background:rgba(0,0,0,.55) !important;
  border-color:rgba(120,170,255,.28) !important;
  box-shadow:0 6px 16px rgba(0,0,0,.35) !important;
}

/* chips */
.tag-chips{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 0 }
.chip{
  border:1px solid var(--hair); background:var(--card); border-radius:999px; padding:6px 10px; cursor:pointer; color:var(--ink);
  transition:transform .12s ease, box-shadow .2s ease, background .2s ease;
}
.chip:hover{ background:var(--card-2); transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.12) }
:root[data-theme="dark"] .chip, body.is-dark .chip{ background:#0b1218 !important; color:#dbe6ef !important; border-color:#1b2532 !important; }

/* ==========================================================
   INSIDE ALBUM OVERLAY
   ========================================================== */
#albumView{
  position:fixed; inset:0; z-index:80;
  display:none; overflow:auto; background:var(--album-bg);
}
#albumView.active{display:block}
.close-btn{
  position:sticky; top:12px; float:right; margin:12px; z-index:10;
  border:1px solid var(--album-hair);
  background:color-mix(in srgb, var(--album-panel) 88%, #000 12%); color:var(--album-ink);
  padding:10px 12px; border-radius:12px; cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,.12);
}

/* Banner */
.album-hero.slim{
  position:relative; display:block;
  width:min(1400px,96vw); margin:6px auto 0;
  border-radius:18px; overflow:hidden; border:1px solid #171717;
  aspect-ratio:21/7;
}
.album-hero img{width:100%;height:100%;object-fit:cover;display:block}
.album-hero-overlay{position:absolute; inset:0;}
:root[data-theme="dark"] .album-hero-overlay, body.is-dark .album-hero-overlay{
  background:linear-gradient(180deg,rgba(0,0,0,0) 60%,rgba(0,0,0,.55));
}
:root[data-theme="light"] .album-hero-overlay, body.is-light .album-hero-overlay{
  background:linear-gradient(180deg,rgba(255,255,255,0) 60%,rgba(255,255,255,.82));
}
.album-hero h2{
  position:absolute; left:4vw; bottom:1.4vw; margin:0;
  font-family:'Orbitron',monospace; font-weight:700;
  font-size:clamp(28px,8vw,120px); color:#fff; line-height:.9; letter-spacing:1px;
}
:root[data-theme="light"] .album-hero h2, body.is-light .album-hero h2{ color:#0b0f14 !important; text-shadow:0 1px 0 rgba(255,255,255,.35); }

/* Description */
.album-desc-block{padding:40px 0 26px; background:var(--album-bg); color:var(--album-ink)}
.album-desc-inner{
  width:min(1100px,88vw); margin:0 auto;
  font-weight:300; font-size:clamp(16px,2.1vw,28px); line-height:1.45;
  text-align:center; color:var(--album-subtle);
}

/* Masonry */
.album-media{padding:4px 0 30px; width:min(1100px,96vw); margin:0 auto}
.masonry{column-count:3; column-gap:16px; -webkit-column-gap:16px; -webkit-column-fill:balance; column-fill:balance}
@media (max-width:1100px){.masonry{column-count:2}}
@media (max-width:640px){.masonry{column-count:1}}
.m-item{
  break-inside:avoid; -webkit-column-break-inside:avoid; -moz-column-break-inside:avoid;
  margin-bottom:16px; position:relative; cursor:pointer;
  border-radius:14px; overflow:hidden; border:1px solid var(--album-hair);
  box-shadow:0 8px 24px rgba(0,0,0,.08); display:block; min-height:10px; background:var(--album-panel);
}
.m-item img{width:100%; height:auto; display:block}
.m-item .play{
  position:absolute; right:10px; bottom:10px;
  width:38px; height:38px; display:grid; place-items:center;
  color:#fff; background:rgba(20,24,30,.55);
  border:1px solid rgba(0,0,0,.08); border-radius:50%;
}

/* ==========================================================
   VIEWER (lightbox)
   ========================================================== */
#viewerOverlay{
  position:fixed; inset:0; z-index:120;
  display:none; place-items:center;
  background:rgba(0,0,0,.75); backdrop-filter:blur(6px);
}
#viewerOverlay.active{display:grid}

.viewer-shell{position:relative; width:min(1200px,95vw)}
.stage{
  margin:0; position:relative; overflow:hidden; width:100%;
  min-height:60vh; max-height:84vh;
  border-radius:18px; border:1px solid var(--album-hair);
  box-shadow:var(--album-glow), 0 0 0 6px rgba(56,231,171,.20), 0 0 0 12px rgba(4,112,255,.16);
  background:var(--album-panel); display:grid; place-items:center;
}
.stage img,.stage video,.stage iframe{
  width:100% !important; height:100% !important;
  object-fit:contain; background:var(--album-panel); display:block; border:0;
}
.viewer-close{
  position:absolute; top:10px; right:10px; z-index:2;
  border:1px solid rgba(255,255,255,.08); background:rgba(26,32,42,.82); color:#fff;
  padding:8px 10px; border-radius:10px; cursor:pointer;
}
.nav{
  position:absolute; top:50%; transform:translateY(-50%);
  border:1px solid rgba(255,255,255,.08); background:rgba(26,32,42,.82); color:#fff;
  width:46px; height:46px; border-radius:50%; cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.35);
}
.nav.prev{left:10px} .nav.next{right:10px}
.peek{
  position:absolute; bottom:-70px; width:110px; height:70px;
  border:2px solid rgba(4,112,255,.35); border-radius:10px;
  object-fit:cover; opacity:.9; filter:grayscale(.04) saturate(1.04);
}
.peek-left{left:10px} .peek-right{right:10px}
.hint{color:var(--muted); font-size:12px; margin:10px auto 0; text-align:center}

/* ==========================================================
   RESPONSIVE TWEAKS
   ========================================================== */
@media (max-width:720px){
  .album-hero.slim{aspect-ratio:21/10}
  .peek{display:none}
  .viewer-shell{width:min(1000px,96vw)}
  .stage{max-height:78vh}
}

/* Phone landscape right-column fix */
#albumView{ overflow-x:hidden; }
@media (max-height:500px) and (max-width:900px) and (orientation:landscape){
  .album-media{ width:min(1000px,94vw); }
  .masonry{ column-count:2; }
}
@media (max-height:420px) and (orientation:landscape){
  .masonry{ column-count:1; }
}

/* ==========================================================
   FOOTER (main + inside albums)
   ========================================================== */
.site-footer{
  --accent:#f1b32a;
  background:linear-gradient(180deg,#0d0e10 0%, #0f1012 100%);
  color:#e9eef5;
  border-top:1px solid rgba(255,255,255,.06);
  padding:18px clamp(18px,4vw,28px);

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;

  line-height:1.4;
  font-weight:500;
  box-shadow:0 -1px 0 rgba(0,0,0,.35) inset;
  border-bottom-left-radius:10px;
  border-bottom-right-radius:10px;
}
.site-footer .footer-left,
.site-footer .footer-right{ display:inline-flex; align-items:center; }
.site-footer .footer-left{white-space:nowrap}
.site-footer .footer-name,
.site-footer a{
  color:var(--accent);
  text-decoration:underline;
  text-underline-offset:3px;
  font-weight:600;
}
.site-footer .footer-right{
  margin-left:auto; text-align:right; color:var(--accent); font-weight:600; letter-spacing:.2px;
}

/* Footer theme */
:root[data-theme="dark"] .site-footer, body.is-dark .site-footer{
  background:linear-gradient(180deg,#090b0f 0%, #0b0d10 100%);
  border-top:1px solid var(--hair);
  color:#eaf0ff;
}
:root[data-theme="light"] .site-footer, body.is-light .site-footer{
  background:linear-gradient(180deg,#ffffff 0%, #f7f9fc 100%);
  border-top:1px solid var(--hair);
  color:#20242c;
}
:root[data-theme="dark"] .site-footer .footer-name,
:root[data-theme="dark"] .site-footer a,
body.is-dark .site-footer .footer-name,
body.is-dark .site-footer a{ color:#f4c34f; }
:root[data-theme="light"] .site-footer .footer-name,
:root[data-theme="light"] .site-footer a,
body.is-light .site-footer .footer-name,
body.is-light .site-footer a{ color:#d0981a; }

#albumView .site-footer{
  width:min(1200px,95vw);
  margin:28px auto 44px;
  position:relative; z-index:1;
  border-radius:10px;
}

/* Mobile stacking for the footer */
@media (max-width:600px){
  .site-footer{ flex-direction:column; text-align:center; gap:6px; }
  .site-footer .footer-right{ margin-left:0; text-align:center; }
}

/* FINAL footer layout enforcement */
.site-footer{
  width:100% !important; display:flex !important; align-items:center !important; justify-content:space-between !important;
  padding:18px clamp(18px,4vw,28px);
}
.site-footer .footer-left{
  flex:1 1 auto; white-space:nowrap; display:inline-flex; align-items:center;
}
.site-footer .footer-right{
  margin-left:auto; text-align:right; display:inline-flex; align-items:center;
}

/* Album overlay variant */
#albumView .site-footer{
  width:100% !important; margin:28px 0 44px !important; border-radius:0 !important;
}

/* Center footer on portrait tablets/phones */
@media (max-width:1024px) and (orientation:portrait){
  body .site-footer.site-footer.site-footer,
  body footer.site-footer.site-footer{
    display:flex !important; flex-direction:column !important; align-items:center !important; justify-content:center !important;
    text-align:center !important; gap:10px !important;
  }
  body .site-footer .footer-left,
  body .site-footer .footer-right{
    width:100% !important; margin:0 !important; display:inline-flex !important; align-items:center !important; justify-content:center !important; text-align:center !important;
  }
  body .site-footer .footer-right{ margin-left:0 !important; }
}

/* small bug fix kept */
#albumView .site-footer{ z-index:1; }

/* ==========================================================
   MICRO-INTERACTIONS / ACCESSIBILITY
   ========================================================== */
.card, .tool-card, .spec-card, .project-card, .research-card, .membership-card{
  transition: transform .18s ease, box-shadow .22s ease, border-color .2s ease;
}
.card:hover, .tool-card:hover, .spec-card:hover, .project-card:hover, .research-card:hover, .membership-card:hover{
  transform: translateY(-6px); box-shadow: 0 24px 60px rgba(0,0,0,.18); border-color: rgba(120,170,255,.35);
}

button:focus-visible{ outline:2px solid #f1b32a; outline-offset:2px; }

/* lazy media */
.hero .word{ display:inline-block; will-change:transform }
.lazy-cover{ filter:blur(14px); transform:scale(1.02); transition:filter .35s, transform .35s }
.lazy-cover.is-loaded{ filter:blur(0); transform:scale(1) }

/* mini tags on thumbs */
.mini-tags{ position:absolute; left:8px; bottom:8px; display:flex; gap:6px; flex-wrap:wrap; }
.mini-chip{
  padding:4px 8px; font-size:12px;
  background:rgba(0,0,0,.55); color:#fff;
  border:1px solid rgba(255,255,255,.15);
  border-radius:999px; backdrop-filter: blur(2px);
}
:root[data-theme="light"] .mini-chip, body.is-light .mini-chip{
  background: color-mix(in srgb, #000 45%, transparent);
  border-color: rgba(0,0,0,.12);
}

/* Ask block in album */
.album-ask { margin-top:8px; }
.album-ask .ask-row{
  display:flex; gap:10px; align-items:center;
  padding:10px; border:1px solid var(--album-hair); border-radius:12px;
  background:var(--album-panel); box-shadow:0 6px 20px rgba(0,0,0,.10);
}
.album-ask input{
  flex:1; border:0; outline:0; background:transparent; color:var(--album-ink);
  font-size:16px; padding:10px 8px;
}
.album-ask .ask-btn{
  border:1px solid rgba(120,170,255,.35); border-radius:10px; padding:10px 14px; cursor:pointer;
  background:linear-gradient(180deg, #1f2937, #172133); color:#fff; font-weight:600;
}
:root[data-theme="light"] .album-ask .ask-btn, body.is-light .album-ask .ask-btn{
  background:linear-gradient(180deg, #0d6efd, #0b5ed7);
  border-color:rgba(13,110,253,.35);
}
.album-ask .ask-btn:disabled{ opacity:.6; cursor:not-allowed }

/* Back-to-top */
:root[data-theme="dark"] .back-to-top, body.is-dark .back-to-top{ background:#2c71ff; color:#fff; }
:root[data-theme="light"] .back-to-top, body.is-light .back-to-top{ background:#0d6efd; color:#fff; }

/* ==========================================================
   SEARCH TIP (desktop only) — strong navy in LIGHT, blue-gray in DARK
   ========================================================== */
@media (min-width:1025px){
  :root[data-theme="dark"] .search-tip, body.is-dark .search-tip{ color:#9FB0C2; opacity:.96; }
  :root[data-theme="dark"] .search-tip .kicker, body.is-dark .search-tip .kicker{ color:#C7D2DE; font-weight:800; }

  :root[data-theme="light"] .search-tip, body.is-light .search-tip{ color:#1F3B63 !important; opacity:1 !important; }
  :root[data-theme="light"] .search-tip .kicker, body.is-light .search-tip .kicker{ color:#16345F !important; font-weight:800; }
  :root[data-theme="light"] .search-tip em, body.is-light .search-tip em{ color:#2A4E86 !important; font-style:italic; }

  :root[data-theme="light"] #ask-hint-row, body.is-light #ask-hint-row{ opacity:1 !important; filter:none !important; }
}
@media (max-width:1024px){ .search-tip{ display:none !important; } }

/* ==========================================================
   MOBILE/TABLET ALBUM TOOLBAR (kept)
   ========================================================== */
@media (max-width:1024px){
  .album-toolbar{ display:flex; align-items:center; gap:10px; width:100%; min-height:44px; }
  .chips-scroll{
    display:flex; gap:8px; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none;
    padding-bottom:4px; flex:1 1 50%;
    mask-image: linear-gradient(to right, transparent, #000 12px, #000 calc(100% - 12px), transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, #000 12px, #000 calc(100% - 12px), transparent);
    scroll-snap-type:x proximity;
  }
  .chips-scroll > *{ scroll-snap-align:center; }
  .chips-scroll::-webkit-scrollbar{ display:none; }
  .search-slot{ flex:0 1 50%; min-width:180px; display:flex; }
  .search-slot input{ width:100%; box-sizing:border-box; font-size:14px; padding:9px 12px; border-radius:10px; }
  #ask-hint-row.ask-hint-compact{
    display:flex; justify-content:center; margin:8px auto 2px; max-width:min(840px,96%);
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px dashed rgba(158,193,255,.55); border-radius:999px; padding:8px 12px; font-size:13px; color:rgba(230,240,255,.92);
    backdrop-filter: blur(4px);
  }
  #ask-hint-row.ask-hint-compact em{ font-style:italic; opacity:.95; white-space:nowrap; }
}
@media (max-width:600px){
  .chips-scroll{ flex-basis:46%; }
  .search-slot{ flex-basis:54%; min-width:160px; }
  .search-slot input{ font-size:13.5px; padding:8px 11px; }
}
@media (max-width:420px){
  .chips-scroll{ flex-basis:42%; }
  .search-slot{ flex-basis:58%; min-width:150px; }
  .search-slot input{ font-size:13px; padding:7.5px 10px; }
  #ask-hint-row.ask-hint-compact{ font-size:12.5px; padding:7px 10px; }
}

/* ==========================================================
   MISC KEEPS (no behavior change)
   ========================================================== */
button.btn, .theme-toggle{ position:relative; overflow:hidden; }
button.btn::after, .theme-toggle::after{
  content:""; position:absolute; left:50%; top:50%; width:0; height:0; border-radius:999px; background:rgba(255,255,255,.25);
  transform:translate(-50%,-50%); pointer-events:none; transition:width .35s ease, height .35s ease, opacity .4s ease; opacity:0;
}
button.btn:active::after, .theme-toggle:active::after{ width:180%; height:180%; opacity:0; }

/* keep generic ask tip hidden on touch devices */
@media (max-width:1024px){ #ask-hint-row{ display:none !important; } }
