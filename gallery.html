<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Album ‚Äî Sachintha Gaurawa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- Icons + Styles -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer></script>

  <!-- AOS (Animate On Scroll) -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css">
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js" defer></script>
  <script>
    window.addEventListener('load', () => {
      if (window.AOS) {
        AOS.init({
          duration: 700,
          once: true,
          easing: 'ease-out-cubic',
          offset: 60
        });
      }
    });
  </script>

  <!-- (Optional) On-device AI utilities -->
  <script src="https://cdn.jsdelivr.net/npm/@xenova/transformers/dist/transformers.min.js" defer></script>




  <script>
    // Page can set this before app.js loads:
    window.__API_BASE__ = 'https://album-ai-api.vercel.app';
    </script>
    
    <script src="app.js" defer></script>

    
    
</head>
<body>
  <!-- Top bar -->
  <header class="topbar">
    <a class="brand" href="https://sachinthagaurawa.github.io/" target="_blank" rel="noopener">Sachintha Gaurawa</a>
    <h1 class="center-title">Album</h1>
    <div class="spacer"></div>
  </header>

  <!-- Outside hero -->
  <section class="hero" data-aos="fade-up">
    <div class="hero-media" data-aos="zoom-in" data-aos-delay="80">
      <img
        class="lazy-cover"
        src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" 
        data-src="https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?q=80&w=1600&auto=format&fit=crop"
        alt="Foggy forest"
      >
      <noscript>
        <img
          src="https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?q=80&w=1600&auto=format&fit=crop"
          alt="Foggy forest">
      </noscript>
      <div class="hero-overlay"></div>
      <div class="hero-text">
        <h2>Projects & Albums</h2>
        <p>Electronics ‚Ä¢ Robotics ‚Ä¢ AI Safety ‚Äî curated visuals, experiments, and demo reels.</p>
      </div>
    </div>
  </section>

  <!-- Search -->
  <section class="controls container" data-aos="fade-up" data-aos-delay="120">
    <div class="search">
      <div class="tag-chips" id="chips"></div>
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
      <input id="searchInput" type="text" placeholder="Search by title or tags‚Ä¶ (e.g., AAVSS, dataset, lidar)" aria-label="Search albums">
    </div>
  </section>

  <!-- Album grid -->
  <section class="container" id="albumGrid" aria-label="Album Grid" data-aos="fade-up" data-aos-delay="160"></section>

  <!-- INSIDE ALBUM -->
  <div id="albumView" aria-hidden="true">
    <button class="close-btn" id="closeAlbum" aria-label="Close album (Esc)">
      <i class="fa-solid fa-xmark"></i>
    </button>

    <!-- Banner -->
    <a id="albumHeroLink" class="album-hero slim" href="#" target="_blank" rel="noopener" data-aos="fade-up" data-aos-delay="40">
      <img id="albumHeroImg" src="" alt="">
      <div class="album-hero-overlay"></div>
      <h2 id="albumHeroTitle"></h2>
    </a>

    <!-- Description -->
    <section class="album-desc-block" data-aos="fade-up" data-aos-delay="120">
      <div class="album-desc-inner">
        <p id="albumDesc"></p>
      </div>
    </section>

    <!-- üî• Ask this album (AI) -->
    <section class="album-ask container" data-aos="fade-up" data-aos-delay="140">
      <div class="ask-row">
        <input id="askInput" type="text"
               placeholder="Ask about this project‚Ä¶ (e.g., sensors used, pipeline, FPS)" aria-label="Ask about this album">
        <button id="askBtn" class="ask-btn" type="button">Ask</button>
      </div>
      <div id="askResult" class="ask-result" aria-live="polite"></div>
    </section>

    <!-- Masonry -->
    <section class="album-media container" data-aos="fade-up" data-aos-delay="160">
      <div id="albumMasonry" class="masonry" aria-label="Album media masonry grid"></div>
    </section>
  </div>

  <!-- CLICK LIGHTBOX (opens only on click) -->
  <div id="viewerOverlay" aria-hidden="true">
    <div class="viewer-shell">
      <button class="viewer-close" id="viewerClose" aria-label="Close viewer (Esc)"><i class="fa-solid fa-xmark"></i></button>
      <button class="nav prev" id="prevBtn" aria-label="Previous (‚Üê)"><i class="fa-solid fa-chevron-left"></i></button>
      <figure class="stage" id="stage" aria-live="polite"></figure>
      <button class="nav next" id="nextBtn" aria-label="Next (‚Üí)"><i class="fa-solid fa-chevron-right"></i></button>
      <img id="peekPrev" class="peek peek-left" alt="">
      <img id="peekNext" class="peek peek-right" alt="">
      <div class="hint">Space: Play/Pause ‚Ä¢ ‚Üê/‚Üí: Prev/Next ‚Ä¢ Tap: Play/Pause ‚Ä¢ Swipe: Navigate</div>
    </div>
  </div>

  <!-- Footer -->
  <footer id="siteFooter" class="site-footer" data-aos="fade-up" data-aos-offset="0">
    <div class="footer-left">
      ¬© <span id="year"></span> <span class="footer-name">Sachintha Gaurawa</span>, All Rights Reserved.
    </div>
    <div class="footer-right">
      Engineered with Innovation
    </div>
  </footer>

  <script>
    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <!-- Your app logic: load ONCE, at the end -->
  <script src="app.js" defer></script>
</body>
</html>
